<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>أسئلة دينية</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header>
    <h1>أسئلة دينية</h1>
  </header>

  <div class="container" id="questionContainer">
    <!-- سيتم عرض الأسئلة هنا -->
  </div>
  
  <div id="result"></div>
  <div id="answersList" style="display:none;">
    <h3>إجاباتك:</h3>
    <div id="answers"></div>
  </div>
  
  <div id="backToHome">
    <button onclick="window.location.href='index.html'">العودة إلى الصفحة الرئيسية</button>
  </div>

  <footer>
    <p>تم تطوير اللعبة بواسطة فارس</p>
  </footer>

  <script>
    // إضافة الأسئلة الدينية
    const allReligionQuestions = [
      { question: "1. من هو أول نبي في الإسلام؟", options: ["آدم", "نوح", "إبراهيم", "محمد صلى الله عليه وسلم"], correctAnswer: "آدم", userAnswer: "" },
      { question: "2. ما هي أطول آية في القرآن الكريم؟", options: ["آية الكرسي", "آية الميراث", "آية الدين (البقرة: 282)", "آية الصيام"], correctAnswer: "آية الدين (البقرة: 282)", userAnswer: "" },
      { question: "3. ما هي السورة التي يطلق عليها \"قلب القرآن\"؟", options: ["الفاتحة", "البقرة", "يس", "الرحمن"], correctAnswer: "يس", userAnswer: "" },
      { question: "4. ما هو حكم صيام يوم عاشوراء؟", options: ["فرض", "سنة", "مستحب", "غير جائز"], correctAnswer: "سنة", userAnswer: "" },
      { question: "5. من هو النبي الذي ابتلعه الحوت؟", options: ["يونس", "موسى", "إبراهيم", "محمد صلى الله عليه وسلم"], correctAnswer: "يونس", userAnswer: "" },
      { question: "6. ما هو حكم صلاة الضحى؟", options: ["فرض", "سنة", "مستحب", "واجب"], correctAnswer: "سنة", userAnswer: "" },
      { question: "7. هل يجوز الصيام في يوم الجمعة فقط؟", options: ["نعم", "لا", "نعم بشرط أن يكون مع يوم آخر", "نعم ولكن بغير سنة"], correctAnswer: "لا", userAnswer: "" },
      { question: "8. من هو النبي الذي بنى الكعبة؟", options: ["إبراهيم", "موسى", "عيسى", "محمد صلى الله عليه وسلم"], correctAnswer: "إبراهيم", userAnswer: "" },
      { question: "9. ما هي آخر سورة نزلت في القرآن الكريم؟", options: ["النساء", "المائدة", "البقرة", "التوبة"], correctAnswer: "المائدة", userAnswer: "" },
      { question: "10. ما هي السورة التي تحتوي على آية الدين؟", options: ["البقرة", "آل عمران", "النساء", "المائدة"], correctAnswer: "البقرة", userAnswer: "" },
      { question: "11. ما هي السورة التي يطلق عليها \"سورة الحواميم\"؟", options: ["الفاتحة", "الحاقة", "الفتح", "غافر"], correctAnswer: "غافر", userAnswer: "" },
      { question: "12. ما هي السورة التي تبدأ بحروف مقطعة؟", options: ["الفاتحة", "ق", "المدثر", "السجدة"], correctAnswer: "ق", userAnswer: "" },
      { question: "13. ما هي أول سورة نزلت في القرآن الكريم؟", options: ["العلق", "الفاتحة", "البقرة", "المدثر"], correctAnswer: "العلق", userAnswer: "" },
      { question: "14. ما هي السورة التي تبدأ بـ \"يا أيها الناس\"؟", options: ["الفاتحة", "الإخلاص", "البقرة", "الحج"], correctAnswer: "الحج", userAnswer: "" },
      { question: "15. ما هو حكم الصلاة في الحذاء؟", options: ["جائز", "محرم", "مستحب", "واجب"], correctAnswer: "جائز", userAnswer: "" },
      { question: "16. ما هي السورة التي تحتوي على آية الميراث؟", options: ["البقرة", "النساء", "آل عمران", "المائدة"], correctAnswer: "النساء", userAnswer: "" },
      { question: "17. ما هو حكم لبس الذهب للرجال في الإسلام؟", options: ["جائز", "محرم", "مستحب", "مكروه"], correctAnswer: "محرم", userAnswer: "" },
      { question: "18. من هو النبي الذي قام برفض أن يُسجد له إبليس؟", options: ["آدم", "إبراهيم", "محمد صلى الله عليه وسلم", "نوح"], correctAnswer: "آدم", userAnswer: "" },
      { question: "19. من هو الصحابي الذي أسلم في عمر متأخر وكان من أقوى الصحابة؟", options: ["أبو بكر الصديق", "عمر بن الخطاب", "عثمان بن عفان", "علي بن أبي طالب"], correctAnswer: "عمر بن الخطاب", userAnswer: "" },
      { question: "20. ما هو حكم أداء الحج لمن يملك القدرة المالية؟", options: ["فرض", "مستحب", "واجب", "جائز"], correctAnswer: "فرض", userAnswer: "" },
      { question: "21. هل يجوز صيام التطوع في الأيام الممنوعة؟", options: ["نعم", "لا", "نعم بشرط", "نعم إذا كان الفرد قد صام في الأيام العادية"], correctAnswer: "لا", userAnswer: "" },
      { question: "22. ما هي السورة التي نزلت في السنة الثانية للهجرة؟", options: ["البقرة", "آل عمران", "النساء", "المائدة"], correctAnswer: "البقرة", userAnswer: "" },
      { question: "23. ما هو حكم الصلاة في الحذاء؟", options: ["جائز", "محرم", "مستحب", "مكروه"], correctAnswer: "جائز", userAnswer: "" },
      { question: "24. ما هو عدد ركعات صلاة الفجر؟", options: ["3", "4", "2", "5"], correctAnswer: "2", userAnswer: "" },
      { question: "25. ما هو حكم لبس الذهب للرجال في الإسلام؟", options: ["جائز", "محرم", "مستحب", "مكروه"], correctAnswer: "محرم", userAnswer: "" },
      { question: "26. ما هي السورة التي تبدأ بحروف مقطعة؟", options: ["الفاتحة", "ق", "المدثر", "السجدة"], correctAnswer: "ق", userAnswer: "" },
      { question: "27. ما هو حكم الإفطار في رمضان بدون عذر؟", options: ["مستحب", "فرض", "يجب القضاء والكفارة", "لا يجب"], correctAnswer: "يجب القضاء والكفارة", userAnswer: "" },
      { question: "28. ما هي السورة التي تحتوي على آية الكرسي؟", options: ["البقرة", "آل عمران", "النساء", "المائدة"], correctAnswer: "البقرة", userAnswer: "" }
    ];

    let currentQuestionIndex = 0;
    let score = 0;

    // اختيار 7 أسئلة عشوائيًا من 28 سؤال
    const selectedReligionQuestions = [];
    while (selectedReligionQuestions.length < 7) {
      const randomIndex = Math.floor(Math.random() * allReligionQuestions.length);
      if (!selectedReligionQuestions.includes(allReligionQuestions[randomIndex])) {
        selectedReligionQuestions.push(allReligionQuestions[randomIndex]);
      }
    }

    // دالة لعرض السؤال
    function displayQuestion() {
      if (currentQuestionIndex < selectedReligionQuestions.length) {
        const question = selectedReligionQuestions[currentQuestionIndex];
        const shuffledOptions = shuffle(question.options); // خلط الخيارات عشوائيًا
        document.getElementById("questionContainer").innerHTML = `
          <p class="question">${question.question}</p>
          <div class="options">
            ${shuffledOptions.map(option => `
              <button class="option" onclick="checkAnswer('${option}')">${option}</button>
            `).join('')}
          </div>
        `;
      } else {
        showResult();
      }
    }

    // دالة لخلط الخيارات
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]]; // تبادل العناصر
      }
      return array;
    }

    // دالة للتحقق من الإجابة
    function checkAnswer(selectedAnswer) {
      const question = selectedReligionQuestions[currentQuestionIndex];
      question.userAnswer = selectedAnswer;
      if (selectedAnswer === question.correctAnswer) {
        score++;
      }
      currentQuestionIndex++;
      displayQuestion();
    }

    // دالة لعرض النتيجة
    function showResult() {
      document.getElementById('result').textContent = `انتهت الأسئلة! درجتك: ${score} من ${selectedReligionQuestions.length}`;
      document.getElementById('answersList').style.display = 'block';

      let answersHTML = "";
      selectedReligionQuestions.forEach((question, index) => {
        const answerClass = question.userAnswer === question.correctAnswer ? 'correct' : 'incorrect';
        answersHTML += `
          <div class="answer ${answerClass}">
            <p><strong>السؤال ${index + 1}:</strong> ${question.question}</p>
            <p><strong>إجابتك:</strong> ${question.userAnswer}</p>
            <p><strong>الإجابة الصحيحة:</strong> ${question.correctAnswer}</p>
            <p><strong>${question.userAnswer === question.correctAnswer ? 'إجابة صحيحة' : 'إجابة خاطئة'}</strong></p>
            <hr/>
          </div>
        `;
      });
      document.getElementById('answers').innerHTML = answersHTML;
      localStorage.setItem('religionScore', score);
    }

    displayQuestion();
  </script>
</body>
</html>
